networks:
  laravel:

services:
  redis:
    build: ./containers/redis
    container_name: redis
    restart: unless-stopped
    volumes:
      - ${DATA_PATH_HOST}/redis:/data
    ports:
      - "${REDIS_PORT}:6379"
    networks:
      - laravel

#  mysql:
#    image: mysql:5.7.29
#    container_name: mysql
#    command: ['--innodb-log-file-size=20000000']
#    restart: unless-stopped
#    tty: true
#    ports:
#      - "3306:3306"
#    environment:
#      MYSQL_DATABASE: homestead
#      MYSQL_USER: homestead
#      MYSQL_PASSWORD: secret
#      MYSQL_ROOT_PASSWORD: secret
#      SERVICE_TAGS: dev
#      SERVICE_NAME: mysql
#    volumes:
#      - ${DATA_PATH_HOST}/mysql:/var/lib/mysql
#    networks:
#      - laravel

  mysql8:
    image: mysql:8.0.24
    container_name: mysql8
    command: ['--innodb-log-file-size=20000000', '--default-authentication-plugin=mysql_native_password']
    restart: unless-stopped
    tty: true
    ports:
      - "3307:3306"
    cap_add:
      - SYS_NICE  # CAP_SYS_NICE
    environment:
      MYSQL_DATABASE: homestead
      MYSQL_USER: homestead
      MYSQL_PASSWORD: secret
      MYSQL_ROOT_PASSWORD: secret
      SERVICE_TAGS: dev
      SERVICE_NAME: mysql8
    volumes:
      - ${DATA_PATH_HOST}/mysql8:/var/lib/mysql
    networks:
      - laravel

  postgres:
    image: pgvector/pgvector:pg17-trixie
    container_name: postgres
    restart: always
    volumes:
      - ${DATA_PATH_HOST}/postgres:/var/lib/postgresql/data
    ports:
      - "5432:5432"
    environment:
      - POSTGRES_USER=homestead
      - POSTGRES_PASSWORD=secret
    networks:
      - laravel

  php7:
    build:
      context: ./containers/php-fpm
      args:
        - CHANGE_SOURCE=${CHANGE_SOURCE}
        - BASE_IMAGE_TAG_PREFIX=${PHP_FPM_BASE_IMAGE_TAG_PREFIX}
        - LARADOCK_PHP_VERSION=7.4
        - LARADOCK_PHALCON_VERSION=${PHALCON_VERSION}
        - INSTALL_BZ2=${PHP_FPM_INSTALL_BZ2}
        - INSTALL_GMP=${PHP_FPM_INSTALL_GMP}
        - INSTALL_XDEBUG=${PHP_FPM_INSTALL_XDEBUG}
        - INSTALL_PCOV=${PHP_FPM_INSTALL_PCOV}
        - INSTALL_PHPDBG=${PHP_FPM_INSTALL_PHPDBG}
        - INSTALL_BLACKFIRE=${INSTALL_BLACKFIRE}
        - INSTALL_SSH2=${PHP_FPM_INSTALL_SSH2}
        - INSTALL_SOAP=${PHP_FPM_INSTALL_SOAP}
        - INSTALL_XSL=${PHP_FPM_INSTALL_XSL}
        - INSTALL_SMB=${PHP_FPM_INSTALL_SMB}
        - INSTALL_IMAP=${PHP_FPM_INSTALL_IMAP}
        - INSTALL_MONGO=${PHP_FPM_INSTALL_MONGO}
        - INSTALL_AMQP=${PHP_FPM_INSTALL_AMQP}
        - INSTALL_CASSANDRA=${PHP_FPM_INSTALL_CASSANDRA}
        - INSTALL_GEARMAN=${PHP_FPM_INSTALL_GEARMAN}
        - INSTALL_MSSQL=${PHP_FPM_INSTALL_MSSQL}
        - INSTALL_BCMATH=${PHP_FPM_INSTALL_BCMATH}
        - INSTALL_PHPREDIS=${PHP_FPM_INSTALL_PHPREDIS}
        - INSTALL_MEMCACHED=${PHP_FPM_INSTALL_MEMCACHED}
        - INSTALL_OPCACHE=${PHP_FPM_INSTALL_OPCACHE}
        - INSTALL_EXIF=${PHP_FPM_INSTALL_EXIF}
        - INSTALL_AEROSPIKE=${PHP_FPM_INSTALL_AEROSPIKE}
        - INSTALL_OCI8=${PHP_FPM_INSTALL_OCI8}
        - INSTALL_MYSQLI=${PHP_FPM_INSTALL_MYSQLI}
        - INSTALL_PGSQL=${PHP_FPM_INSTALL_PGSQL}
        - INSTALL_PG_CLIENT=${PHP_FPM_INSTALL_PG_CLIENT}
        - INSTALL_POSTGIS=${PHP_FPM_INSTALL_POSTGIS}
        - INSTALL_INTL=${PHP_FPM_INSTALL_INTL}
        - INSTALL_GHOSTSCRIPT=${PHP_FPM_INSTALL_GHOSTSCRIPT}
        - INSTALL_LDAP=${PHP_FPM_INSTALL_LDAP}
        - INSTALL_PHALCON=${PHP_FPM_INSTALL_PHALCON}
        - INSTALL_SWOOLE=${PHP_FPM_INSTALL_SWOOLE}
        - INSTALL_TAINT=${PHP_FPM_INSTALL_TAINT}
        - INSTALL_IMAGE_OPTIMIZERS=${PHP_FPM_INSTALL_IMAGE_OPTIMIZERS}
        - INSTALL_IMAGEMAGICK=${PHP_FPM_INSTALL_IMAGEMAGICK}
        - INSTALL_CALENDAR=${PHP_FPM_INSTALL_CALENDAR}
        - INSTALL_FAKETIME=${PHP_FPM_INSTALL_FAKETIME}
        - INSTALL_IONCUBE=${PHP_FPM_INSTALL_IONCUBE}
        - INSTALL_APCU=${PHP_FPM_INSTALL_APCU}
        - INSTALL_CACHETOOL=${PHP_FPM_INSTALL_CACHETOOL}
        - INSTALL_YAML=${PHP_FPM_INSTALL_YAML}
        - INSTALL_RDKAFKA=${PHP_FPM_INSTALL_RDKAFKA}
        - INSTALL_GETTEXT=${PHP_FPM_INSTALL_GETTEXT}
        - INSTALL_ADDITIONAL_LOCALES=${PHP_FPM_INSTALL_ADDITIONAL_LOCALES}
        - INSTALL_MYSQL_CLIENT=${PHP_FPM_INSTALL_MYSQL_CLIENT}
        - INSTALL_PING=${PHP_FPM_INSTALL_PING}
        - INSTALL_SSHPASS=${PHP_FPM_INSTALL_SSHPASS}
        - INSTALL_MAILPARSE=${PHP_FPM_INSTALL_MAILPARSE}
        - INSTALL_PCNTL=${PHP_FPM_INSTALL_PCNTL}
        - ADDITIONAL_LOCALES=${PHP_FPM_ADDITIONAL_LOCALES}
        - INSTALL_FFMPEG=${PHP_FPM_FFMPEG}
        - INSTALL_WKHTMLTOPDF=${PHP_FPM_INSTALL_WKHTMLTOPDF}
        - INSTALL_XHPROF=${PHP_FPM_INSTALL_XHPROF}
        - INSTALL_XMLRPC=${PHP_FPM_INSTALL_XMLRPC}
        - PUID=${PHP_FPM_PUID}
        - PGID=${PHP_FPM_PGID}
        - LOCALE=${PHP_FPM_DEFAULT_LOCALE}
        - http_proxy
        - https_proxy
        - no_proxy
    container_name: php7
    restart: unless-stopped
    volumes:
      - ${DATA_PATH_HOST}/php7:/usr/local/etc/php/conf.d
      - ./src:/var/www/html
    ports:
      - "9000:9000"
      - "9912:9912"
      - "6001:6001"
    depends_on:
      - redis
    networks:
      - laravel

#  php73:
#    build:
#      context: ./containers/php-fpm
#      args:
#        - CHANGE_SOURCE=${CHANGE_SOURCE}
#        - BASE_IMAGE_TAG_PREFIX=${PHP_FPM_BASE_IMAGE_TAG_PREFIX}
#        - LARADOCK_PHP_VERSION=7.3
#        - LARADOCK_PHALCON_VERSION=${PHALCON_VERSION}
#        - INSTALL_BZ2=${PHP_FPM_INSTALL_BZ2}
#        - INSTALL_GMP=${PHP_FPM_INSTALL_GMP}
#        - INSTALL_XDEBUG=${PHP_FPM_INSTALL_XDEBUG}
#        - INSTALL_PCOV=${PHP_FPM_INSTALL_PCOV}
#        - INSTALL_PHPDBG=${PHP_FPM_INSTALL_PHPDBG}
#        - INSTALL_BLACKFIRE=${INSTALL_BLACKFIRE}
#        - INSTALL_SSH2=${PHP_FPM_INSTALL_SSH2}
#        - INSTALL_SOAP=${PHP_FPM_INSTALL_SOAP}
#        - INSTALL_XSL=${PHP_FPM_INSTALL_XSL}
#        - INSTALL_SMB=${PHP_FPM_INSTALL_SMB}
#        - INSTALL_IMAP=${PHP_FPM_INSTALL_IMAP}
#        - INSTALL_MONGO=${PHP_FPM_INSTALL_MONGO}
#        - INSTALL_AMQP=${PHP_FPM_INSTALL_AMQP}
#        - INSTALL_CASSANDRA=${PHP_FPM_INSTALL_CASSANDRA}
#        - INSTALL_GEARMAN=${PHP_FPM_INSTALL_GEARMAN}
#        - INSTALL_MSSQL=${PHP_FPM_INSTALL_MSSQL}
#        - INSTALL_BCMATH=${PHP_FPM_INSTALL_BCMATH}
#        - INSTALL_PHPREDIS=${PHP_FPM_INSTALL_PHPREDIS}
#        - INSTALL_MEMCACHED=${PHP_FPM_INSTALL_MEMCACHED}
#        - INSTALL_OPCACHE=${PHP_FPM_INSTALL_OPCACHE}
#        - INSTALL_EXIF=${PHP_FPM_INSTALL_EXIF}
#        - INSTALL_AEROSPIKE=${PHP_FPM_INSTALL_AEROSPIKE}
#        - INSTALL_OCI8=${PHP_FPM_INSTALL_OCI8}
#        - INSTALL_MYSQLI=${PHP_FPM_INSTALL_MYSQLI}
#        - INSTALL_PGSQL=${PHP_FPM_INSTALL_PGSQL}
#        - INSTALL_PG_CLIENT=${PHP_FPM_INSTALL_PG_CLIENT}
#        - INSTALL_POSTGIS=${PHP_FPM_INSTALL_POSTGIS}
#        - INSTALL_INTL=${PHP_FPM_INSTALL_INTL}
#        - INSTALL_GHOSTSCRIPT=${PHP_FPM_INSTALL_GHOSTSCRIPT}
#        - INSTALL_LDAP=${PHP_FPM_INSTALL_LDAP}
#        - INSTALL_PHALCON=${PHP_FPM_INSTALL_PHALCON}
#        - INSTALL_SWOOLE=${PHP_FPM_INSTALL_SWOOLE}
#        - INSTALL_TAINT=${PHP_FPM_INSTALL_TAINT}
#        - INSTALL_IMAGE_OPTIMIZERS=${PHP_FPM_INSTALL_IMAGE_OPTIMIZERS}
#        - INSTALL_IMAGEMAGICK=${PHP_FPM_INSTALL_IMAGEMAGICK}
#        - INSTALL_CALENDAR=${PHP_FPM_INSTALL_CALENDAR}
#        - INSTALL_FAKETIME=${PHP_FPM_INSTALL_FAKETIME}
#        - INSTALL_IONCUBE=${PHP_FPM_INSTALL_IONCUBE}
#        - INSTALL_APCU=${PHP_FPM_INSTALL_APCU}
#        - INSTALL_CACHETOOL=${PHP_FPM_INSTALL_CACHETOOL}
#        - INSTALL_YAML=${PHP_FPM_INSTALL_YAML}
#        - INSTALL_RDKAFKA=${PHP_FPM_INSTALL_RDKAFKA}
#        - INSTALL_GETTEXT=${PHP_FPM_INSTALL_GETTEXT}
#        - INSTALL_ADDITIONAL_LOCALES=${PHP_FPM_INSTALL_ADDITIONAL_LOCALES}
#        - INSTALL_MYSQL_CLIENT=${PHP_FPM_INSTALL_MYSQL_CLIENT}
#        - INSTALL_PING=${PHP_FPM_INSTALL_PING}
#        - INSTALL_SSHPASS=${PHP_FPM_INSTALL_SSHPASS}
#        - INSTALL_MAILPARSE=${PHP_FPM_INSTALL_MAILPARSE}
#        - INSTALL_PCNTL=${PHP_FPM_INSTALL_PCNTL}
#        - ADDITIONAL_LOCALES=${PHP_FPM_ADDITIONAL_LOCALES}
#        - INSTALL_FFMPEG=${PHP_FPM_FFMPEG}
#        - INSTALL_WKHTMLTOPDF=${PHP_FPM_INSTALL_WKHTMLTOPDF}
#        - INSTALL_XHPROF=${PHP_FPM_INSTALL_XHPROF}
#        - INSTALL_XMLRPC=${PHP_FPM_INSTALL_XMLRPC}
#        - PUID=${PHP_FPM_PUID}
#        - PGID=${PHP_FPM_PGID}
#        - LOCALE=${PHP_FPM_DEFAULT_LOCALE}
#        - http_proxy
#        - https_proxy
#        - no_proxy
#    container_name: php73
#    volumes:
#      - ${DATA_PATH_HOST}/php73:/usr/local/etc/php/conf.d
#      - ./src:/var/www/html
#    ports:
#      - "9001:9000"
#      - "9913:9913"
#    depends_on:
#      - redis
#    networks:
#      - laravel

  php8:
    build:
      context: ./containers/php-fpm
      args:
        - SSH_PVT_KEY=${SSH_PVT_KEY}
        - SSH_PUB_KEY=${SSH_PUB_KEY}
        - CHANGE_SOURCE=${CHANGE_SOURCE}
        - BASE_IMAGE_TAG_PREFIX=${PHP_FPM_BASE_IMAGE_TAG_PREFIX}
        - LARADOCK_PHP_VERSION=8.4
        - LARADOCK_PHALCON_VERSION=${PHALCON_VERSION}
        - INSTALL_BZ2=${PHP_FPM_INSTALL_BZ2}
        - INSTALL_GMP=${PHP_FPM_INSTALL_GMP}
        - INSTALL_XDEBUG=${PHP_FPM_INSTALL_XDEBUG}
        - INSTALL_PCOV=${PHP_FPM_INSTALL_PCOV}
        - INSTALL_PHPDBG=${PHP_FPM_INSTALL_PHPDBG}
        - INSTALL_BLACKFIRE=${INSTALL_BLACKFIRE}
        - INSTALL_SSH2=${PHP_FPM_INSTALL_SSH2}
        - INSTALL_SOAP=${PHP_FPM_INSTALL_SOAP}
        - INSTALL_XSL=${PHP_FPM_INSTALL_XSL}
        - INSTALL_SMB=${PHP_FPM_INSTALL_SMB}
        - INSTALL_IMAP=${PHP_FPM_INSTALL_IMAP}
        - INSTALL_MONGO=${PHP_FPM_INSTALL_MONGO}
        - INSTALL_AMQP=${PHP_FPM_INSTALL_AMQP}
        - INSTALL_CASSANDRA=${PHP_FPM_INSTALL_CASSANDRA}
        - INSTALL_GEARMAN=${PHP_FPM_INSTALL_GEARMAN}
        - INSTALL_MSSQL=${PHP_FPM_INSTALL_MSSQL}
        - INSTALL_BCMATH=${PHP_FPM_INSTALL_BCMATH}
        - INSTALL_PHPREDIS=${PHP_FPM_INSTALL_PHPREDIS}
        - INSTALL_MEMCACHED=${PHP_FPM_INSTALL_MEMCACHED}
        - INSTALL_OPCACHE=${PHP_FPM_INSTALL_OPCACHE}
        - INSTALL_EXIF=${PHP_FPM_INSTALL_EXIF}
        - INSTALL_AEROSPIKE=${PHP_FPM_INSTALL_AEROSPIKE}
        - INSTALL_OCI8=${PHP_FPM_INSTALL_OCI8}
        - INSTALL_MYSQLI=${PHP_FPM_INSTALL_MYSQLI}
        - INSTALL_PGSQL=${PHP_FPM_INSTALL_PGSQL}
        - INSTALL_PG_CLIENT=${PHP_FPM_INSTALL_PG_CLIENT}
        - INSTALL_POSTGIS=${PHP_FPM_INSTALL_POSTGIS}
        - INSTALL_INTL=${PHP_FPM_INSTALL_INTL}
        - INSTALL_GHOSTSCRIPT=${PHP_FPM_INSTALL_GHOSTSCRIPT}
        - INSTALL_LDAP=${PHP_FPM_INSTALL_LDAP}
        - INSTALL_PHALCON=${PHP_FPM_INSTALL_PHALCON}
        - INSTALL_SWOOLE=${PHP_FPM_INSTALL_SWOOLE}
        - INSTALL_TAINT=${PHP_FPM_INSTALL_TAINT}
        - INSTALL_IMAGE_OPTIMIZERS=${PHP_FPM_INSTALL_IMAGE_OPTIMIZERS}
        - INSTALL_IMAGEMAGICK=${PHP_FPM_INSTALL_IMAGEMAGICK}
        - INSTALL_CALENDAR=${PHP_FPM_INSTALL_CALENDAR}
        - INSTALL_FAKETIME=${PHP_FPM_INSTALL_FAKETIME}
        - INSTALL_IONCUBE=${PHP_FPM_INSTALL_IONCUBE}
        - INSTALL_APCU=${PHP_FPM_INSTALL_APCU}
        - INSTALL_CACHETOOL=${PHP_FPM_INSTALL_CACHETOOL}
        - INSTALL_YAML=${PHP_FPM_INSTALL_YAML}
        - INSTALL_RDKAFKA=${PHP_FPM_INSTALL_RDKAFKA}
        - INSTALL_GETTEXT=${PHP_FPM_INSTALL_GETTEXT}
        - INSTALL_ADDITIONAL_LOCALES=${PHP_FPM_INSTALL_ADDITIONAL_LOCALES}
        - INSTALL_MYSQL_CLIENT=${PHP_FPM_INSTALL_MYSQL_CLIENT}
        - INSTALL_PING=${PHP_FPM_INSTALL_PING}
        - INSTALL_SSHPASS=${PHP_FPM_INSTALL_SSHPASS}
        - INSTALL_MAILPARSE=${PHP_FPM_INSTALL_MAILPARSE}
        - INSTALL_PCNTL=${PHP_FPM_INSTALL_PCNTL}
        - ADDITIONAL_LOCALES=${PHP_FPM_ADDITIONAL_LOCALES}
        - INSTALL_FFMPEG=${PHP_FPM_FFMPEG}
        - INSTALL_WKHTMLTOPDF=${PHP_FPM_INSTALL_WKHTMLTOPDF}
        - INSTALL_XHPROF=${PHP_FPM_INSTALL_XHPROF}
        - INSTALL_XMLRPC=${PHP_FPM_INSTALL_XMLRPC}
        - PUID=${PHP_FPM_PUID}
        - PGID=${PHP_FPM_PGID}
        - LOCALE=${PHP_FPM_DEFAULT_LOCALE}
        - http_proxy
        - https_proxy
        - no_proxy
    container_name: php8
    restart: unless-stopped
    volumes:
      - ${DATA_PATH_HOST}/php8:/usr/local/etc/php/conf.d
      - ./src:/var/www/html
    ports:
      - "9002:9000"
      - "9914:9913"
    depends_on:
      - redis
    networks:
      - laravel

  php82:
    build:
      context: ./containers/php-fpm
      args:
        - SSH_PVT_KEY=${SSH_PVT_KEY}
        - SSH_PUB_KEY=${SSH_PUB_KEY}
        - CHANGE_SOURCE=${CHANGE_SOURCE}
        - BASE_IMAGE_TAG_PREFIX=${PHP_FPM_BASE_IMAGE_TAG_PREFIX}
        - LARADOCK_PHP_VERSION=8.2
        - LARADOCK_PHALCON_VERSION=${PHALCON_VERSION}
        - INSTALL_BZ2=${PHP_FPM_INSTALL_BZ2}
        - INSTALL_GMP=${PHP_FPM_INSTALL_GMP}
        - INSTALL_XDEBUG=${PHP_FPM_INSTALL_XDEBUG}
        - INSTALL_PCOV=${PHP_FPM_INSTALL_PCOV}
        - INSTALL_PHPDBG=${PHP_FPM_INSTALL_PHPDBG}
        - INSTALL_BLACKFIRE=${INSTALL_BLACKFIRE}
        - INSTALL_SSH2=${PHP_FPM_INSTALL_SSH2}
        - INSTALL_SOAP=${PHP_FPM_INSTALL_SOAP}
        - INSTALL_XSL=${PHP_FPM_INSTALL_XSL}
        - INSTALL_SMB=${PHP_FPM_INSTALL_SMB}
        - INSTALL_IMAP=${PHP_FPM_INSTALL_IMAP}
        - INSTALL_MONGO=${PHP_FPM_INSTALL_MONGO}
        - INSTALL_AMQP=${PHP_FPM_INSTALL_AMQP}
        - INSTALL_CASSANDRA=${PHP_FPM_INSTALL_CASSANDRA}
        - INSTALL_GEARMAN=${PHP_FPM_INSTALL_GEARMAN}
        - INSTALL_MSSQL=${PHP_FPM_INSTALL_MSSQL}
        - INSTALL_BCMATH=${PHP_FPM_INSTALL_BCMATH}
        - INSTALL_PHPREDIS=${PHP_FPM_INSTALL_PHPREDIS}
        - INSTALL_MEMCACHED=${PHP_FPM_INSTALL_MEMCACHED}
        - INSTALL_OPCACHE=${PHP_FPM_INSTALL_OPCACHE}
        - INSTALL_EXIF=${PHP_FPM_INSTALL_EXIF}
        - INSTALL_AEROSPIKE=${PHP_FPM_INSTALL_AEROSPIKE}
        - INSTALL_OCI8=${PHP_FPM_INSTALL_OCI8}
        - INSTALL_MYSQLI=${PHP_FPM_INSTALL_MYSQLI}
        - INSTALL_PGSQL=${PHP_FPM_INSTALL_PGSQL}
        - INSTALL_PG_CLIENT=${PHP_FPM_INSTALL_PG_CLIENT}
        - INSTALL_POSTGIS=${PHP_FPM_INSTALL_POSTGIS}
        - INSTALL_INTL=${PHP_FPM_INSTALL_INTL}
        - INSTALL_GHOSTSCRIPT=${PHP_FPM_INSTALL_GHOSTSCRIPT}
        - INSTALL_LDAP=${PHP_FPM_INSTALL_LDAP}
        - INSTALL_PHALCON=${PHP_FPM_INSTALL_PHALCON}
        - INSTALL_SWOOLE=${PHP_FPM_INSTALL_SWOOLE}
        - INSTALL_TAINT=${PHP_FPM_INSTALL_TAINT}
        - INSTALL_IMAGE_OPTIMIZERS=${PHP_FPM_INSTALL_IMAGE_OPTIMIZERS}
        - INSTALL_IMAGEMAGICK=${PHP_FPM_INSTALL_IMAGEMAGICK}
        - INSTALL_CALENDAR=${PHP_FPM_INSTALL_CALENDAR}
        - INSTALL_FAKETIME=${PHP_FPM_INSTALL_FAKETIME}
        - INSTALL_IONCUBE=${PHP_FPM_INSTALL_IONCUBE}
        - INSTALL_APCU=${PHP_FPM_INSTALL_APCU}
        - INSTALL_CACHETOOL=${PHP_FPM_INSTALL_CACHETOOL}
        - INSTALL_YAML=${PHP_FPM_INSTALL_YAML}
        - INSTALL_RDKAFKA=${PHP_FPM_INSTALL_RDKAFKA}
        - INSTALL_GETTEXT=${PHP_FPM_INSTALL_GETTEXT}
        - INSTALL_ADDITIONAL_LOCALES=${PHP_FPM_INSTALL_ADDITIONAL_LOCALES}
        - INSTALL_MYSQL_CLIENT=${PHP_FPM_INSTALL_MYSQL_CLIENT}
        - INSTALL_PING=${PHP_FPM_INSTALL_PING}
        - INSTALL_SSHPASS=${PHP_FPM_INSTALL_SSHPASS}
        - INSTALL_MAILPARSE=${PHP_FPM_INSTALL_MAILPARSE}
        - INSTALL_PCNTL=${PHP_FPM_INSTALL_PCNTL}
        - ADDITIONAL_LOCALES=${PHP_FPM_ADDITIONAL_LOCALES}
        - INSTALL_FFMPEG=${PHP_FPM_FFMPEG}
        - INSTALL_WKHTMLTOPDF=${PHP_FPM_INSTALL_WKHTMLTOPDF}
        - INSTALL_XHPROF=${PHP_FPM_INSTALL_XHPROF}
        - INSTALL_XMLRPC=${PHP_FPM_INSTALL_XMLRPC}
        - PUID=${PHP_FPM_PUID}
        - PGID=${PHP_FPM_PGID}
        - LOCALE=${PHP_FPM_DEFAULT_LOCALE}
        - http_proxy
        - https_proxy
        - no_proxy
    container_name: php82
    restart: unless-stopped
    volumes:
      - ${DATA_PATH_HOST}/php82:/usr/local/etc/php/conf.d
      - ./src:/var/www/html
    ports:
      - "9003:9000"
      - "9915:9913"
    depends_on:
      - redis
    networks:
      - laravel

  site:
    image: nginx:stable-alpine
    container_name: nginx
    restart: unless-stopped
    ports:
      - "80:80"
      - "443:443"
      - "3000:3000"
    volumes:
      - ./src:/var/www/html
      - ${DATA_PATH_HOST}/nginx:/etc/nginx/conf.d
      - ${DATA_PATH_HOST}/certificates:/etc/nginx/ssl
      - ${DATA_PATH_HOST}/log/nginx:/var/log/nginx
    depends_on:
      - php8
      - mysql8
      - redis
    networks:
      laravel:
        aliases:
          - api.cdpc.localtest.me

  composer:
    image: composer:latest
    container_name: composer
    volumes:
      - ./src:/var/www/html
    working_dir: /var/www/html
    depends_on:
      - php8
    networks:
      - laravel

  node:
    image: node:latest
    container_name: node
    volumes:
      - ./src:/var/www/html
    working_dir: /var/www/html
    entrypoint: ['node']
    networks:
      - laravel

  chromium:
    image: zenika/alpine-chrome
    restart: unless-stopped
    command:
      [
        chromium-browser,
        "--headless",
        "--disable-gpu",
        "--remote-debugging-address=0.0.0.0",
        "--remote-debugging-port=9222",
      ]
    cap_add:
      - SYS_ADMIN
    volumes:
      - ./temp:/tmp
    ports:
      - "9222:9222"
    networks:
      - laravel

#  artisan:
#    build:
#      context: ./containers/php-fpm
#      args:
#        - CHANGE_SOURCE=${CHANGE_SOURCE}
#        - BASE_IMAGE_TAG_PREFIX=${PHP_FPM_BASE_IMAGE_TAG_PREFIX}
#        - LARADOCK_PHP_VERSION=${PHP_VERSION}
#        - LARADOCK_PHALCON_VERSION=${PHALCON_VERSION}
#        - INSTALL_BZ2=${PHP_FPM_INSTALL_BZ2}
#        - INSTALL_GMP=${PHP_FPM_INSTALL_GMP}
#        - INSTALL_XDEBUG=${PHP_FPM_INSTALL_XDEBUG}
#        - INSTALL_PCOV=${PHP_FPM_INSTALL_PCOV}
#        - INSTALL_PHPDBG=${PHP_FPM_INSTALL_PHPDBG}
#        - INSTALL_BLACKFIRE=${INSTALL_BLACKFIRE}
#        - INSTALL_SSH2=${PHP_FPM_INSTALL_SSH2}
#        - INSTALL_SOAP=${PHP_FPM_INSTALL_SOAP}
#        - INSTALL_XSL=${PHP_FPM_INSTALL_XSL}
#        - INSTALL_SMB=${PHP_FPM_INSTALL_SMB}
#        - INSTALL_IMAP=${PHP_FPM_INSTALL_IMAP}
#        - INSTALL_MONGO=${PHP_FPM_INSTALL_MONGO}
#        - INSTALL_AMQP=${PHP_FPM_INSTALL_AMQP}
#        - INSTALL_CASSANDRA=${PHP_FPM_INSTALL_CASSANDRA}
#        - INSTALL_GEARMAN=${PHP_FPM_INSTALL_GEARMAN}
#        - INSTALL_MSSQL=${PHP_FPM_INSTALL_MSSQL}
#        - INSTALL_BCMATH=${PHP_FPM_INSTALL_BCMATH}
#        - INSTALL_PHPREDIS=${PHP_FPM_INSTALL_PHPREDIS}
#        - INSTALL_MEMCACHED=${PHP_FPM_INSTALL_MEMCACHED}
#        - INSTALL_OPCACHE=${PHP_FPM_INSTALL_OPCACHE}
#        - INSTALL_EXIF=${PHP_FPM_INSTALL_EXIF}
#        - INSTALL_AEROSPIKE=${PHP_FPM_INSTALL_AEROSPIKE}
#        - INSTALL_OCI8=${PHP_FPM_INSTALL_OCI8}
#        - INSTALL_MYSQLI=${PHP_FPM_INSTALL_MYSQLI}
#        - INSTALL_PGSQL=${PHP_FPM_INSTALL_PGSQL}
#        - INSTALL_PG_CLIENT=${PHP_FPM_INSTALL_PG_CLIENT}
#        - INSTALL_POSTGIS=${PHP_FPM_INSTALL_POSTGIS}
#        - INSTALL_INTL=${PHP_FPM_INSTALL_INTL}
#        - INSTALL_GHOSTSCRIPT=${PHP_FPM_INSTALL_GHOSTSCRIPT}
#        - INSTALL_LDAP=${PHP_FPM_INSTALL_LDAP}
#        - INSTALL_PHALCON=${PHP_FPM_INSTALL_PHALCON}
#        - INSTALL_SWOOLE=${PHP_FPM_INSTALL_SWOOLE}
#        - INSTALL_TAINT=${PHP_FPM_INSTALL_TAINT}
#        - INSTALL_IMAGE_OPTIMIZERS=${PHP_FPM_INSTALL_IMAGE_OPTIMIZERS}
#        - INSTALL_IMAGEMAGICK=${PHP_FPM_INSTALL_IMAGEMAGICK}
#        - INSTALL_CALENDAR=${PHP_FPM_INSTALL_CALENDAR}
#        - INSTALL_FAKETIME=${PHP_FPM_INSTALL_FAKETIME}
#        - INSTALL_IONCUBE=${PHP_FPM_INSTALL_IONCUBE}
#        - INSTALL_APCU=${PHP_FPM_INSTALL_APCU}
#        - INSTALL_CACHETOOL=${PHP_FPM_INSTALL_CACHETOOL}
#        - INSTALL_YAML=${PHP_FPM_INSTALL_YAML}
#        - INSTALL_RDKAFKA=${PHP_FPM_INSTALL_RDKAFKA}
#        - INSTALL_GETTEXT=${PHP_FPM_INSTALL_GETTEXT}
#        - INSTALL_ADDITIONAL_LOCALES=${PHP_FPM_INSTALL_ADDITIONAL_LOCALES}
#        - INSTALL_MYSQL_CLIENT=${PHP_FPM_INSTALL_MYSQL_CLIENT}
#        - INSTALL_PING=${PHP_FPM_INSTALL_PING}
#        - INSTALL_SSHPASS=${PHP_FPM_INSTALL_SSHPASS}
#        - INSTALL_MAILPARSE=${PHP_FPM_INSTALL_MAILPARSE}
#        - INSTALL_PCNTL=${PHP_FPM_INSTALL_PCNTL}
#        - ADDITIONAL_LOCALES=${PHP_FPM_ADDITIONAL_LOCALES}
#        - INSTALL_FFMPEG=${PHP_FPM_FFMPEG}
#        - INSTALL_WKHTMLTOPDF=${PHP_FPM_INSTALL_WKHTMLTOPDF}
#        - INSTALL_XHPROF=${PHP_FPM_INSTALL_XHPROF}
#        - INSTALL_XMLRPC=${PHP_FPM_INSTALL_XMLRPC}
#        - PUID=${PHP_FPM_PUID}
#        - PGID=${PHP_FPM_PGID}
#        - LOCALE=${PHP_FPM_DEFAULT_LOCALE}
#        - http_proxy
#        - https_proxy
#        - no_proxy
#    container_name: artisan
#    volumes:
#      - ./src:/var/www/html
#    depends_on:
#      - mysql
#    working_dir: /var/www/html
#    entrypoint: ['php', '/var/www/html/artisan']
#    networks:
#      - laravel
